buildscript {
    ext.kotlin_version = '1.2.41'
	ext.coroutines_version = '0.22.5'

    repositories {
        mavenCentral()
		jcenter()
    }
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}

group 'blue.sparse'
version '1.0-SNAPSHOT'

task copyJars(type: Copy) {
	from subprojects.collect { it.tasks.withType(Jar) }
	into "$buildDir/allJars"
}

task copyToPlugins(type: Copy) {
	into("testServer/plugins")
	from subprojects.find { it.name == "core" }.tasks.withType(Jar)

	into("SparseMC-API/modules/") {
		from subprojects.findAll { it.name != "core" }.collect { it.tasks.withType(Jar) }
	}
}